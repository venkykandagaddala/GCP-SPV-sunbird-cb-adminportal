<ng-container [ngSwitch]="designationMaster">
  <ng-container *ngSwitchCase="'desigantion master'">
    <div class="flex flex-column gap-4 pt-4">
      <div class="flex justify-between items-center">
        <div class="mobile-margin text-capitalize mat-h2">{{designationConfig.mainHeading}}</div>
        <div class="flex gap-3">
          <button mat-raised-button class="mat-btn-flat" (click)="designationMaster = 'bulk upload'" type="button">
            {{designationConfig?.bulkUploadConfig?.mainHeading}}
          </button>

          <button mat-flat-button class="mat-btn-flat" (click)="designationMaster = 'import designations'"
            type="button">
            Import from iGOT master
          </button>
        </div>
      </div>

      <mat-card class="mb-4" [ngStyle]="{'background-color': showTopSection ? '#fff' : 'rgba(235, 235, 235, 1)'}">
        <div class="flex">
          <span class="mat-body-1 font-bold-imp flex-1">{{designationConfig?.topsection?.heading}}</span>
          <mat-icon class="cursor-pointer mat-icon mr-4" *ngIf="showTopSection"
            (click)="showTopSection = !showTopSection">keyboard_arrow_up</mat-icon>
          <mat-icon class="cursor-pointer mat-icon mr-4" *ngIf="!showTopSection"
            (click)="showTopSection = !showTopSection">keyboard_arrow_down</mat-icon>
        </div>
        <div class="mt-5" *ngIf="showTopSection">
          <div class="flex gap-20">
            <div class="flex-1 flex-col gap-4">
              <ng-container *ngFor="let step of designationConfig?.topsection?.steps">
                <div class="flex items-center gap-3">
                  <div> <mat-icon>error_outline</mat-icon></div>
                  <span [innerHTML]="step.title"></span>
                </div>
              </ng-container>
            </div>
            <div class="">
              <div class="videoDemo flex justify-end section-2">
                <div class="videoDemoVideo flex flex-column flex-middle justify-center" (click)="openVideoPopup()">
                  <mat-icon class="video_icon mb-2">play_arrow</mat-icon>
                  <div>
                    Watch how it works
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </mat-card>

      <div class="w-full">
        <ng-container *ngIf="!showCreateLoader; else fw_create_loader">
          <div class="w-full flex justify-between items-center mb-6">
            <div class="flex items-center">
              <div class="search">
                <div class=rsearch>
                  <mat-icon class="color-60 search-icon">search</mat-icon>
                  <input [formControl]="searchControl" class="sinput color-60" type="Standard" placeholder="Search">
                </div>
              </div>
            </div>
          </div>
          <ng-container *ngIf="!showLoader">
            <ng-container *ngIf="designationsList?.length === 0; else designationsTable">
              <div class="w-full flex flex-col justify-center items-center emptyDesignations">
                <img src="/assets/icons/empty_data.svg" class="empty-desigantions-img">
                <div>
                  <p class="empty-desigantions-text">No designation has been imported from iGOT master.</p>
                </div>
                <div class="mt-4">
                  <button mat-flat-button class="mat-btn-flat" (click)="designationMaster = 'import designations'">
                    Start Importing</button>
                </div>
              </div>
            </ng-container>
            <ng-template #designationsTable>
              <ws-widget-org-user-table [tableData]="tableData" [data]="filteredDesignationsList"
                [actionMenuItem]="actionMenuItem" [isSearchBar]=false
                (actionsClick)="menuSelected($event)"></ws-widget-org-user-table>
            </ng-template>
          </ng-container>
          <ng-container *ngIf="showLoader">
            <div class="flex flex-1 items-center justify-center loader-box w-full designations-loader">
              <mat-spinner strokeWidth="3" diameter="50"></mat-spinner>
            </div>
          </ng-container>
        </ng-container>
        <ng-template #fw_create_loader>
          <div class="flex flex-col flex-1 w-100 items-center pt-5 text-center w-1/2 m-auto">
            <div class="spinner">
              <mat-spinner class="display-inline-block mb-5" [diameter]="50" [strokeWidth]="3"></mat-spinner>
              <p>{{loaderMsg}}</p>
            </div>
          </div>
        </ng-template>
      </div>
    </div>
  </ng-container>

  <ng-container *ngSwitchCase="'import designations'">
    <ws-app-import-designation (closeComponent)="removeImportDesignationComp($event)"
      [importMasterflag]="goToImportMaster" [loader]="showLoader"></ws-app-import-designation>
  </ng-container>

  <ng-container *ngSwitchCase="'bulk upload'">
    <ws-app-bulk-upload (closeComponent)="showDesignationMaster($event)"></ws-app-bulk-upload>
  </ng-container>
</ng-container>
<div class="w-full">
  <ng-container [ngSwitch]="cardTheme">
    <ng-container *ngSwitchCase="'provider'" [ngTemplateOutlet]="provider"></ng-container>
    <ng-container *ngSwitchCase="'content-upload'" [ngTemplateOutlet]="contentUpload"></ng-container>
  </ng-container>
</div>
<ng-template #contentUpload>
  <mat-card class="m-1">
    <mat-card-content>
      <div class="flex flex-column gap-4">
        <div class="flex justify-between">
          <div class="flex gap-3 items-center mb-2">
            <span class="provider-name">File Information
              <mat-icon class="content-info-icon">info_outline</mat-icon>
            </span>
            <div [ngClass]="cardDetails?.status === 'Live' ? 'status-live' : 'status-fail'"
              class=" flex justify-center items-center">
              <span>{{cardDetails?.status}}</span>
            </div>
          </div>
          <div class="flex gap-2">
            <ng-container *ngIf="cardDetails?.status === 'Live'">
              <button mat-button class="delete-file-btn flex justify-center items-center"
                (click)="buttonClick('delete')">
                <mat-icon class="delete-file-icon mr-2">delete</mat-icon>
                Delet File
              </button>
            </ng-container>
            <ng-container *ngIf="cardDetails?.status === 'Live' || cardDetails?.status === 'Deleted'">
              <button mat-button class="preview-btn flex justify-center items-center" (click)="buttonClick('view')">
                <mat-icon class="preview-icon mr-2">visibility</mat-icon>
                Preview
              </button>
            </ng-container>
          </div>
        </div>
        <div class="flex gap-20">
          <div class="content-details">
            <span class="flex gap-1 mb-1">
              <span class="lable">Name</span>
            </span>
            <span class="content-info">{{cardDetails?.name}}</span>
          </div>

          <div class="content-details">
            <span class="flex gap-1 mb-1">
              <span class="lable">Initiated On</span>
            </span>
            <span class="content-info">{{cardDetails?.intiatedOn}}</span>
          </div>

          <div class="content-details">
            <span class="flex gap-1 mb-1">
              <span class="lable">Completed On</span>
            </span>
            <span class="content-info">{{cardDetails?.completedOn}}</span>
          </div>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
</ng-template>
<ng-template #provider>
  <div class="provider-card flex flex-column gap-4">
    <div class="flex justify-between">
      <div class="flex gap-3 items-center mb-2">
        <img class="providers-icon" src="/assets/icons/empty_shelf.svg">
        <span class="provider-name">{{cardDetails?.contentPartnerName}}</span>
      </div>
      <div>
        <button type="button" mat-icon-button i18n-aria-label aria-label="action items" [matMenuTriggerFor]="cardMenu"
          class="action-btn">
          <mat-icon>more_horiz</mat-icon>
        </button>
        <mat-menu #cardMenu="matMenu">
          <ng-template matMenuContent>
            <div mat-menu-item class="provider-menu-item" (click)="buttonClick('edit')">
              <button class="flex item-btn" mat-icon-button i18n-aria-label aria-label="Analytics">
                Edit
              </button>
            </div>
            <div mat-menu-item class="provider-menu-item" (click)="buttonClick('delete')">
              <button class="flex item-btn" mat-icon-button i18n-aria-label aria-label="Analytics">
                Delete
              </button>
            </div>
          </ng-template>
        </mat-menu>
      </div>
    </div>
    <div class="flex gap-1">
      <div class="provider-details">
        <span class="flex gap-1 mb-1">
          <span class="lable">ID</span>
          <mat-icon class="infoIcon">info_outline</mat-icon>
        </span>
        <span class="provider-info">{{cardDetails?.orgId}}</span>
      </div>

      <div class="provider-details">
        <span class="flex gap-1 mb-1">
          <span class="lable">Total Courses Received</span>
          <mat-icon class="infoIcon">info_outline</mat-icon>
        </span>
        <span class="provider-info">{{cardDetails?.totalCourses ? cardDetails?.totalCourses : 'NA'}}</span>
      </div>

      <div class="provider-details">
        <span class="flex gap-1 mb-1">
          <span class="lable">Last updated on</span>
          <mat-icon class="infoIcon">info_outline</mat-icon>
        </span>
        <span class="provider-info">{{cardDetails?.updatedOn | date:'dd MMM yyyy, h:mm a'}}</span>
      </div>
    </div>
    <div class="legend"></div>
    <div class="flex gap-1">
      <div class="provider-details flex flex-col gap-2">
        <span class="flex gap-1">
          <span class="lable">Authentication</span>
          <mat-icon class="infoIcon">info_outline</mat-icon>
        </span>
        <div class="flex items-center justify-center"
          [ngClass]="cardDetails?.isAuthenticate ? 'approved' : 'not-approved' ">
          <span>{{cardDetails?.isAuthenticate ? 'Done' : 'Not done'}}</span>
        </div>
      </div>

      <div class="provider-details flex flex-col gap-2">
        <span class="flex gap-1">
          <span class="lable">Content Upload</span>
        </span>
        <div class="flex items-center justify-center gap-3"
          [ngClass]="cardDetails?.isAuthenticate ? 'config-btn' : 'disable-config'"
          (click)="buttonClick(cardDetails?.contentUploadLastUpdatedDate ? 'update' : 'Configure', 'contentUpload')">
          <span>{{cardDetails?.contentUploadLastUpdatedDate ? 'Update' : 'Configure'}}</span>
          <mat-icon class="right-arrow-icon">keyboard_arrow_right</mat-icon>
        </div>
        <!-- need to remove below and uncomment above -->
        <!-- <div class="flex items-center justify-center gap-3"
          (click)="buttonClick(cardDetails?.contentUploadLastUpdatedDate ? 'update' : 'Configure', 'contentUpload')">
          <span>{{cardDetails?.contentUploadLastUpdatedDate ? 'Update' : 'Configure'}}</span>
          <mat-icon class="right-arrow-icon">keyboard_arrow_right</mat-icon>
        </div> -->
        <ng-container *ngIf="cardDetails?.contentUploadLastUpdatedDate">
          <div class="flex gap-2">
            <mat-icon class="update-icon">update</mat-icon>
            <div class="flex flex-column gap-2">
              <span class="update-lable">Last Updated On:</span>
              <span class="updated-time">{{cardDetails?.contentUploadLastUpdatedDate}}</span>
            </div>
          </div>
        </ng-container>
      </div>

      <!-- <div class="provider-details flex flex-col gap-2">
        <span class="flex gap-1">
          <span class="lable">Progress</span>
        </span>
        <div class="flex items-center justify-center gap-3"
          [ngClass]="cardDetails?.isAuthenticate ? 'config-btn' : 'disable-config'"
          (click)="buttonClick(cardDetails?.contentUploadLastUpdatedDate ? 'update' : 'Configure', 'progress')">
          <span>{{cardDetails?.ProgressUpdatedOn ? 'Update' : 'Configure'}}</span>
          <mat-icon class="right-arrow-icon">keyboard_arrow_right</mat-icon>
        </div>
        <ng-container *ngIf="cardDetails?.ProgressUpdatedOn">
          <div class="flex gap-2">
            <mat-icon class="update-icon">update</mat-icon>
            <div class="flex flex-column gap-2">
              <span class="update-lable">Last Updated On:</span>
              <span class="updated-time">{{cardDetails?.ProgressUpdatedOn}}</span>
            </div>
          </div>
        </ng-container>
      </div>

      <div class="provider-details flex flex-col gap-2">
        <span class="flex gap-1">
          <span class="lable">Certification</span>
        </span>
        <div class="flex items-center justify-center gap-3"
          [ngClass]="cardDetails?.isAuthenticate ? 'config-btn' : 'disable-config'"
          (click)="buttonClick(cardDetails?.contentUploadLastUpdatedDate ? 'update' : 'Configure', 'certification')">
          <span>{{cardDetails?.CertificationOn ? 'Update' : 'Configure'}}</span>
          <mat-icon class="right-arrow-icon">keyboard_arrow_right</mat-icon>
        </div>
        <ng-container *ngIf="cardDetails?.CertificationOn">
          <div class="flex gap-2">
            <mat-icon class="update-icon">update</mat-icon>
            <div class="flex flex-column gap-2">
              <span class="update-lable">Last Updated On:</span>
              <span class="updated-time">{{cardDetails?.CertificationOn}}</span>
            </div>
          </div>
        </ng-container>
      </div> -->

    </div>
  </div>
</ng-template>